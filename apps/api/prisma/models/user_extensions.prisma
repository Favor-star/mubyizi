
// ── USER EXTENSIONS ──────────────────────────────────────────

model UserSkill {
    id          String  @id @default(ulid())
    userId      String
    user        Users   @relation(fields: [userId], references: [id], onDelete: Cascade)
    name        String
    category    String?
    proficiency String? // e.g. beginner, intermediate, expert
    yearsExp    Float?
    notes       String?

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([userId])
}

model UserDocument {
    id           String       @id @default(ulid())
    userId       String
    user         Users        @relation(fields: [userId], references: [id], onDelete: Cascade)
    documentType DocumentType
    title        String
    fileUrl      String
    publicId     String?      // Cloudinary public ID for deletion
    expiresAt    DateTime?
    notes        String?

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([userId])
    @@index([documentType])
}

model EmergencyContact {
    id           String  @id @default(ulid())
    userId       String
    user         Users   @relation(fields: [userId], references: [id], onDelete: Cascade)
    name         String
    relationship String
    phoneNumber  String
    email        String?
    isPrimary    Boolean @default(false)
    notes        String?

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([userId])
    @@index([userId, isPrimary])
}

// ── ENUMS: USER EXTENSIONS ───────────────────────────────────

enum DocumentType {
    NATIONAL_ID
    PASSPORT
    DRIVERS_LICENSE
    WORK_PERMIT
    CONTRACT
    CERTIFICATE
    OTHER
}
